<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Miragetools by gordonjcp</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">Miragetools</h1>
        <p class="header">Tools and documentation for hacking on the Ensoniq Mirage 8-bit sampler</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/gordonjcp/miragetools/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/gordonjcp/miragetools/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/gordonjcp/miragetools">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/gordonjcp">gordonjcp</a></p>


      </header>
      <section>
        <h1>Ensoniq Mirage Tools</h1>

<p>Tools and documentation for hacking on the Ensoniq Mirage 8-bit sampler</p>

<p>There should be just about enough information in the README.md files to get you started.  You're going to need a PC running Linux that has a real genuine floppy drive (no USB ones, sorry) and a MIDI interface.  Other than that you'll need a working GCC and probably some libraries that I've forgotten to note down. Suffice it to say that if you can compile simple Gtk apps, you won't be far wrong.</p>

<p>Clone the repository, then go into miragetools/miditerm and and build it:</p>

<pre><code>$ ./waf configure
$ ./waf
</code></pre>

<p>If all goes well you should be able to run MIDIterm with:</p>

<pre><code>$ ./build/miditerm
</code></pre>

<p>Use something like qjackctl to hook the ports up to your physical MIDI interface, remembering that "out" on MIDIterm needs to go to "in" on your interface.  If you hook the "out" and "in" connectors on your interface together (maybe using the "through" port on the Mirage) then when you type stuff into MIDIterm you should see it echoed back.</p>

<p>Make sure the Mirage is hooked up to the appropriate MIDI connectors on your interface.</p>

<p>Switch to the asm09 directory.  Build the assembler and disk writer, then build the Forth image:</p>

<pre><code>$ gcc as9.c -o as9
$ gcc writeos.c -o writeos
$ ./as9 forth.asm -nol
</code></pre>

<p>Get a blank formatted diskette (or format one, with the instructions in miragetools/asm09/README.md) and write the Forth image:</p>

<pre><code>$ ./writeos forth.s19
</code></pre>

<p>Boot from the disk and you should see the right hand digit of the LED showing a rotating pattern.</p>

<p>At this point, you are running what is probably the first wholly new software to be written for the Ensoniq Mirage, for something like 20 years.  Let that sink in for a moment.</p>

<p>Unfortunately the forth.asm source isn't hugely well-documented.  My own additions don't really help either.  Note that this version starts off with base set to 16 by default - this means that any numbers you type in or any it displays are hexadecimal.  This may be surprising for the unwary.</p>

<p>At the "ok&gt;" prompt, type "vlist" and you should see it list off all the Forth words the environment knows.  You can read Dave Dunfield's (notes on his implementation)[<a href="http://www.classiccmp.org/dunfield/d6809/d/forth.txt">http://www.classiccmp.org/dunfield/d6809/d/forth.txt</a>] on his website.</p>

<p>To make your Mirage make a noise, just to prove it can be done:</p>

<pre><code>ok&gt; 18 e200 c! ( motor off, final VCA unmuted)
ok&gt; 50 e410 c! ( VCF 1 cutoff opened up somewhat)
ok&gt; ff e408 c! ( VCF 1 resonance up full)
</code></pre>

<p>You have just unmuted the audio (sample/play switch) and set the first VCF to
self-resonate.</p>

<p>Happy hacking!</p>

<p><a href="https://github.com/gordonjcp" class="user-mention">@gordonjcp</a></p>
      </section>
      <footer>
        <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><!--<![endif]-->
		
  </body>
</html>
